<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <title>Latent Space Visualization</title>
    <!-- Cache Control: HTML should be revalidated, but versioned assets can be cached long-term -->
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="{{ config.style.google_fonts_url }}" rel="stylesheet">
    <link rel="stylesheet" href="{{ 'style.css' | url }}">

    <meta property="og:title" content="Latent Space Visualization">
    <meta property="og:description" content="Interactive 3D portfolio - Latent Space Visualization">
    <meta property="og:image" content="{{ 'udim_cv_prev.jpg' | url }}">
    <meta property="og:type" content="website">
    <meta property="og:url" content="{{ config.site.base_url }}">
</head>
<body>
    <div id="loading" style="display: none;">Loading articles...</div>

    {% include 'header.html' %}
    <div id="container"></div>
    
    {% if config.bloom.enabled %}
    <!-- Bloom Controls -->
    <div id="bloom-controls" style="display: none;">
        <h3>Bloom Effects</h3>
        <div class="bloom-control">
            <label>
                <input type="checkbox" id="bloom-enabled" checked>
                Enable Bloom
            </label>
        </div>
        <div class="bloom-control">
            <label>
                Strength <span class="bloom-value" id="bloom-strength-value">{{ config.bloom.strength }}</span>
            </label>
            <input type="range" id="bloom-strength" min="0" max="3" step="0.1" value="{{ config.bloom.strength }}">
        </div>
        <div class="bloom-control">
            <label>
                Radius <span class="bloom-value" id="bloom-radius-value">{{ config.bloom.radius }}</span>
            </label>
            <input type="range" id="bloom-radius" min="0" max="1" step="0.01" value="{{ config.bloom.radius }}">
        </div>
        <div class="bloom-control">
            <label>
                Threshold <span class="bloom-value" id="bloom-threshold-value">{{ config.bloom.threshold }}</span>
            </label>
            <input type="range" id="bloom-threshold" min="0" max="1" step="0.01" value="{{ config.bloom.threshold }}">
        </div>
    </div>
    {% endif %}

    <div id="startup-modal">
        {% with show_button=True %}
        {% include 'startup_modal.html' %}
        {% endwith %}
    </div>


    <!-- THREE.js -->
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/build/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/stats.js@0.17.0/build/stats.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/postprocessing/EffectComposer.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/postprocessing/RenderPass.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/shaders/CopyShader.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/shaders/LuminosityHighPassShader.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/postprocessing/ShaderPass.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/postprocessing/UnrealBloomPass.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/shaders/FXAAShader.js"></script>

    <!-- MiniSearch -->
    <script src="https://cdn.jsdelivr.net/npm/minisearch@7.2.0/dist/umd/index.min.js"></script>
    
    <!-- Application Scripts -->
    <script src="{{ 'conf.js' | url }}"></script>
    <script src="{{ 'utils.js' | url }}"></script>
    <script src="{{ 'links.js' | url }}"></script>
    <script src="{{ 'article3D.js' | url }}"></script>
    <script src="{{ 'search.js' | url }}"></script>
    <script src="{{ 'userControls.js' | url }}"></script>
    <script src="{{ 'main.js' | url }}"></script>
</body>
</html>